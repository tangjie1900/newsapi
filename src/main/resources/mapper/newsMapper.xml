<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.cout.newsapi.mapper.NewsMapper">
    <resultMap id="newslists" type="cn.cout.newsapi.model.NewsModel">
        <id column="id" property="id"/>
        <result column="groupid" property="groupid"/>
        <result column="tag" property="tag"/>
        <result column="imageurl" property="imageurl"/>
        <result column="title" property="title"/>
        <result column="displayurl" property="displayurl"/>
        <result column="category" property="category"/>
        <association property="newsdetail" javaType="cn.cout.newsapi.model.Newsdetail">
            <result column="publishtime" property="publishtime"/>
            <result column="newssource" property="newssource"/>
            <result column="sourceimage" property="sourceimage"/>
        </association>
    </resultMap>

    <select id="findNewsByPage" resultMap="newslists">
        SELECT
          n.id,n.groupid,n.tag,n.imageurl,n.title,n.displayurl,n.category,d.publishtime,d.newssource,d.sourceimage
        FROM news n  INNER  JOIN  newsdetail d
          on n.groupid=d.groupid
        WHERE  n.title !='' AND n.category = #{category}
          ORDER  BY n.id
    </select>
</mapper>